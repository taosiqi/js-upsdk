!function(){"using strict";function e(){}function t(e){return null!=e&&e==e.window}function n(e){return"[object Function]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Array}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){return"number"==typeof e.length}function r(e){return a(e)&&!t(e)&&e.__proto__==Object.prototype}function c(e,t,n){return[].indexOf.call(t,e,n)}function l(e,t){var n,i;if(o(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(i in e)if(t.call(e[i],i,e[i])===!1)return e;return e}function s(e,t,n){for(var a in t)n&&(r(t[a])||i(t[a]))?(r(t[a])&&!r(e[a])&&(e[a]={}),i(t[a])&&!i(e[a])&&(e[a]=[]),s(e[a],t[a],n)):void 0!==t[a]&&(e[a]=t[a])}function u(e){var t,n=[].slice.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){s(e,n,t)}),e}function d(){function e(t,n,i,a,o){return N?void(N?v(t,function(e){h(n,e)},i,a,o):I?h(n,F.ESDK_CONFIG_FAILED):window.upsdk.ready(function(){e(t,n,i,a,o)})):void h(n,F.ESDK_NEED_CONFIG_DONE)}function t(t,i,a,o,c){t=t||{};var s={};r(t)&&l(t,function(e,t){n(t)||(s[e]=t)}),e(function(e){var i=t.success;n(i)&&(n(o)&&(e=o(e)),i(e))},function(e){var i=t.fail||t.cancel;i&&(n(c)&&(e=c(e)),i(e))},i,a,[s])}D=!0,"undefined"!=typeof S&&(window.upsdk.config(S),S=void 0),"undefined"!=typeof B&&(window.upsdk.appletConfig(B),B=void 0),"undefined"!=typeof b&&(window.upsdk.appletAuth(b),b=void 0),u(window.upsdk,{pay:function(e){var n=g("pay",e,["tn"]);if(n)return void h(e.fail||e.cancel,n);delete e.merchantId;var a=/\(updebug\s(\d+)\)/g.exec(A);i(a)&&a.length>=2&&"2"===a[1]?e.mode="02":e.mode="00",t(e,"UPWebPay","pay",null,function(e){var t="";if(e&&"string"==typeof e){var n=JSON.parse(e);n&&"object"==typeof n&&(e=n)}return"object"==typeof e?t=e.desc||e.msg||e.errmsg:"string"==typeof e&&(t=e),t||(t="支付插件调用失败"),{msg:t}})},qrPay:function(e){t(e,"UPWebPay","qrPay")},uPlanQrPay:function(e){t(e,"UPWebPay","qrCodePay")},addBankCard:function(e){e=e||{},e.scene=e.scene||"10007",t(e,"UPWebBankCard","addBankCard")},addBankCardWithSn:function(e){e=e||{},e.Sn=e.Sn||e.sn||e.SN,t(e,"UPWebBankCard","addBankCardWithSn")},setNavigationBarTitle:function(t){var n;n="string"==typeof t?t:t&&t.title,e(null,null,"UPWebBars","setNavigationBarTitle",[n])},setNavigationBarRightButton:function(e){t(e,"UPWebBars","setNavigationBarRightButton");var i=e&&e.handler;n(i)&&(document.removeEventListener("rightbtnclick",Z),Z=i,document.addEventListener("rightbtnclick",Z))},setTitleStyle:function(e){t(e,"UPWebBars","setTitleStyle")},closeWebApp:function(e){t(e,"UPWebClosePage","closeWebApp")},showFlashInfo:function(t){var n;n="string"==typeof t?t:t&&t.msg,n&&e(null,null,"UPWebUI","showFlashInfo",[n])},scanQRCode:function(e){t(e,"UPWebUI","scanQRCode",function(e){return r(e)&&e.value&&(e=e.value),e})},chooseImage:function(e){e.maxWidth&&e.maxHeight||(e.maxWidth=500,e.maxHeight=1e3),e.sourceType=e.sourceType||"3",t(e,"UPWebUI","chooseImage",function(e){"string"==typeof e&&(e=JSON.parse(e));var t=e.url,n="";if(t){var i=t.lastIndexOf(".");n=t.substr(i+1).trim()}else n="jpg";return{base64:e.base64,type:n}})},scanQRCodeNew:function(e){t(e,"UPWebUI","scanQRCodeNew")},qrCodePay:function(e){t(e,"UPWebUI","qrCodePay")},showSharePopup:function(e){function t(t){var n={title:e.title,content:e.desc,desc:e.desc,picUrl:e.picUrl,imgUrl:e.picUrl,shareUrl:e.shareUrl+(e.shareUrl.indexOf("?")<0?"?channel="+t:"&channel="+t),channel:t};switch(t){case 0:y&&(n.content=e.content+" "+e.shareUrl);break;case 1:n.content=e.content+" "+e.shareUrl;break;case 3:case 4:case 5:case 6:break;case 7:y||(n.shareUrl=e.title+" "+e.shareUrl)}return n}e.title||(e.title=""),e.desc||(e.desc=""),e.content=e.desc,e.picUrl||(e.picUrl="https://base.95516.com/s/wl/web/402/images/common/logo.png"),e.imgUrl=e.picUrl,e.shareUrl||(e.shareUrl=location.href),window.unionpayWalletShareContent_iOS=function(e){var n=t(e);return"function"==typeof shareCallback&&(n=shareCallback(e,n)),JSON.stringify(n)},window.unionpayWalletShareContent_Android=function(e){var n=t(e);"function"==typeof shareCallback&&(n=shareCallback(e,n)),share_utils&&"function"==typeof share_utils.setCommonTemplate&&share_utils.setCommonTemplate(JSON.stringify(n))},v(null,null,"UPWebBars","prefetchImage",[e]),v(null,null,"UPWalletPlugin","showSharePopup",[e])},getLocationCity:function(e){e=e||{},e.type="0",t(e,"UPWalletPlugin","fetchNativeData",function(e){return"string"==typeof e&&(e=JSON.parse(e)),e.cityCd})},getLocationGps:function(e){e=e||{},e.type="1",t(e,"UPWalletPlugin","fetchNativeData")},verifyPayPwd:function(e){t(e,"UPWebAccount","verifyPayPwd")},getUserLogoutDate:function(e){t(e,"UPWebAccount","getUserLogoutDate")},chooseFileFromAlbum:function(e){t(e,"UPWebNativeInfo","chooseFileFromAlbum")},readAlbumData:function(e){t(e,"UPWebNativeInfo","readAlbumData")},startAudioRecording:function(e){t(e,"UPWebNativeInfo","startAudioRecording")},stopAudioRecording:function(e){t(e,"UPWebNativeInfo","stopAudioRecording")},readAudioRecordingData:function(e){t(e,"UPWebNativeInfo","readAudioRecordingData")},startVideoRecording:function(e){t(e,"UPWebNativeInfo","startVideoRecording")},readVideoRecordingData:function(e){t(e,"UPWebNativeInfo","readVideoRecordingData")},readFaceVideoData:function(e){t(e,"UPWebNativeInfo","readFaceVideoData")},readFaceImageData:function(e){t(e,"UPWebNativeInfo","readFaceImageData")},uniqueIdentifier:function(e){t(e,"UPWebNativeInfo","uniqueIdentifier")},noteInfoChange:function(e){t(e,"UPNotesInfoPlugin","noteInfoChange")},openRNPage:function(e){t(e,"UPWebNewPage","openRNPage")},prepareApplet:function(e){t(e,"UPWebNewPage","prepareApplet")},openApplet:function(e){t(e,"UPWebNewPage","openApplet")},createWebView:function(t){e(null,null,"UPWebNewPage","createWebPage",[JSON.stringify({title:t.title,url:t.url,loading:"yes",toolbar:"no",isFinish:t.isFinish||"0"})])},navi:function(e){t(e,"UPCarCodePlugin","navi")},setScreenBrightness:function(e){t(e,"UPCarCodePlugin","setScreenBrightness")},getScreenBrightness:function(e){t(e,"UPCarCodePlugin","getScreenBrightness")},changeScreenShot:function(e){t(e,"UPWebUI","changeScreenShot")},monitorScreenShot:function(e){t(e,"UPCarCodePlugin","monitorScreenShot");var i=e&&e.success;n(i)&&(document.removeEventListener("screenShotAction",ee),ee=i,document.addEventListener("screenShotAction",ee))},removeScreenShot:function(e){t(e,"UPCarCodePlugin","removeScreenShot"),document.removeEventListener("screenShotAction",ee)},addCommonApp:function(e){t(e,"UPAddCommonAppPlugin","addCommonApp")},logEvent:function(e){t(e,"UPWebAnalysis","logEvent")},openBluetoothAdapter:function(e){t(e,"UPWPluginBluetooth","openBluetoothAdapter")},closeBluetoothAdapter:function(e){t(e,"UPWPluginBluetooth","closeBluetoothAdapter")},getBluetoothAdapterState:function(e){t(e,"UPWPluginBluetooth","getBluetoothAdapterState")},startBluetoothDevicesDiscovery:function(e){t(e,"UPWPluginBluetooth","startBluetoothDevicesDiscovery")},stopBluetoothDevicesDiscovery:function(e){t(e,"UPWPluginBluetooth","stopBluetoothDevicesDiscovery")},getBluetoothDevices:function(e){t(e,"UPWPluginBluetooth","getBluetoothDevices")},getConnectedBluetoothDevices:function(e){t(e,"UPWPluginBluetooth","getConnectedBluetoothDevices")},connectBLEDevice:function(e){t(e,"UPWPluginBluetooth","connectBLEDevice")},disconnectBLEDevice:function(e){t(e,"UPWPluginBluetooth","disconnectBLEDevice")},writeBLECharacteristicValue:function(e){t(e,"UPWPluginBluetooth","writeBLECharacteristicValue")},readBLECharacteristicValue:function(e){t(e,"UPWPluginBluetooth","readBLECharacteristicValue")},notifyBLECharacteristicValueChange:function(e){t(e,"UPWPluginBluetooth","notifyBLECharacteristicValueChange")},getBLEDeviceServices:function(e){t(e,"UPWPluginBluetooth","getBLEDeviceServices")},getBLEDeviceCharacteristics:function(e){t(e,"UPWPluginBluetooth","getBLEDeviceCharacteristics")},registerBluetoothDeviceFound:function(e){t(e,"UPWPluginBluetooth","registerBluetoothDeviceFound");var i=e&&e.callback;n(i)&&(document.removeEventListener("BluetoothDeviceFound",te),te=i,document.addEventListener("BluetoothDeviceFound",te))},cancelBluetoothDeviceFound:function(e){t(e,"UPWPluginBluetooth","cancelBluetoothDeviceFound")},registerBLEConnectionStateChange:function(e){t(e,"UPWPluginBluetooth","registerBLEConnectionStateChange");var i=e&&e.callback;n(i)&&(document.removeEventListener("BLEConnectionStateChange",ne),ne=i,document.addEventListener("BLEConnectionStateChange",ne))},cancelBLEConnectionStateChange:function(e){t(e,"UPWPluginBluetooth","cancelBLEConnectionStateChange")},registerBLECharacteristicValueChange:function(e){t(e,"UPWPluginBluetooth","registerBLECharacteristicValueChange");var i=e&&e.callback;n(i)&&(document.removeEventListener("BLECharacteristicValueChange",ie),ie=i,document.addEventListener("BLECharacteristicValueChange",ie))},cancelBLECharacteristicValueChange:function(e){t(e,"UPWPluginBluetooth","cancelBLECharacteristicValueChange")},registerBluetoothAdapterStateChange:function(e){t(e,"UPWPluginBluetooth","registerBluetoothAdapterStateChange");var i=e&&e.callback;n(i)&&(document.removeEventListener("BluetoothAdapterStateChange",ae),ae=i,document.addEventListener("BluetoothAdapterStateChange",ae))},cancelBluetoothAdapterStateChange:function(e){t(e,"UPWPluginBluetooth","cancelBluetoothAdapterStateChange")},openBluetoothSetting:function(e){t(e,"UPWPluginBluetooth","openBluetoothSetting")},getBluetoothStatus:function(e){t(e,"UPWBluetoothPeripheral","getBluetoothStatus")},registerBLEPeripheralConnectionStateChangedNotification:function(e){t(e,"UPWBluetoothPeripheral","registerBLEPeripheralConnectionStateChangedNotification");var i=e&&e.callback;n(i)&&(document.removeEventListener("BLEPeripheralConnectionStateChanged",oe),oe=i,document.addEventListener("BLEPeripheralConnectionStateChanged",oe))},cancelBLEPeripheralConnectionStateChangedNotification:function(e){t(e,"UPWBluetoothPeripheral","cancelBLEPeripheralConnectionStateChangedNotification")},createBLEPeripheralServer:function(e){t(e,"UPWBluetoothPeripheral","createBLEPeripheralServer")},writeCharacteristicValue:function(e){t(e,"UPWBluetoothPeripheral","writeCharacteristicValue")},addService:function(e){t(e,"UPWBluetoothPeripheral","addService")},removeService:function(e){t(e,"UPWBluetoothPeripheral","removeService")},startAdvertising:function(e){t(e,"UPWBluetoothPeripheral","startAdvertising")},stopAdvertising:function(e){t(e,"UPWBluetoothPeripheral","stopAdvertising")},closeBLEPeripheralServer:function(e){t(e,"UPWBluetoothPeripheral","closeBLEPeripheralServer")},registerCharacteristicReadNotification:function(e){t(e,"UPWBluetoothPeripheral","registerCharacteristicReadNotification");var i=e&&e.callback;n(i)&&(document.removeEventListener("BLEPeripheralCharacteristicRead",re),re=i,document.addEventListener("BLEPeripheralCharacteristicRead",re))},cancelCharacteristicReadNotification:function(e){t(e,"UPWBluetoothPeripheral","cancelCharacteristicReadNotification")},registerCharacteristicWriteNotification:function(e){t(e,"UPWBluetoothPeripheral","registerCharacteristicWriteNotification");var i=e&&e.callback;n(i)&&(document.removeEventListener("BLEPeripheralCharacteristicWrite",ce),ce=i,document.addEventListener("BLEPeripheralCharacteristicWrite",ce))},cancelCharacteristicWriteNotification:function(e){t(e,"UPWBluetoothPeripheral","cancelCharacteristicWriteNotification")},registerCharacteristicSubscribedNotification:function(e){t(e,"UPWBluetoothPeripheral","registerCharacteristicSubscribedNotification");var i=e&&e.callback;n(i)&&(document.removeEventListener("BLEPeripheralCharacteristicSubscribed",le),le=i,document.addEventListener("BLEPeripheralCharacteristicSubscribed",le))},cancelCharacteristicSubscribedNotification:function(e){t(e,"UPWBluetoothPeripheral","cancelCharacteristicSubscribedNotification")},registerCharacteristicUnsubscribedNotification:function(e){t(e,"UPWBluetoothPeripheral","registerCharacteristicUnsubscribedNotification");var i=e&&e.callback;n(i)&&(document.removeEventListener("BLEPeripheralCharacteristicUnSubscribed",se),se=i,document.addEventListener("BLEPeripheralCharacteristicUnSubscribed",se))},cancelCharacteristicUnsubscribedNotification:function(e){t(e,"UPWBluetoothPeripheral","cancelCharacteristicUnsubscribedNotification")},openBluetooth:function(e){t(e,"UPWBluetoothPeripheral","openBluetooth")},configApplePay:function(e){t(e,"UPWNFCManager","configApplePay")},getNFCStatus:function(e){t(e,"UPHceManagerPlugin","getNFCStatus")},getHCEState:function(e){t(e,"UPHceManagerPlugin","getHCEState")},startHCE:function(e){t(e,"UPHceManagerPlugin","startHCE")},stopHCE:function(e){t(e,"UPHceManagerPlugin","stopHCE")},sendHCEMessage:function(e){t(e,"UPHceManagerPlugin","sendHCEMessage")},onHCEMessage:function(e){t(e,"UPHceManagerPlugin","onHCEMessage")},openNFCSetting:function(e){t(e,"UPHceManagerPlugin","openNFCSetting")},saveData:function(e){t(e,"UPXAppletDataPlugin","saveData")},queryData:function(e){t(e,"UPXAppletDataPlugin","queryData")},deleteData:function(e){t(e,"UPXAppletDataPlugin","deleteData")},getAllKeys:function(e){t(e,"UPXAppletDataPlugin","getAllKeys")},deleteAllKeys:function(e){t(e,"UPXAppletDataPlugin","deleteAllKeys")},showShareMorePanel:function(e){function t(t){e.shareUrl+=e.shareUrl.indexOf("?")<0?"?channel="+t:"&channel="+t;var n={title:e.title,content:e.desc,desc:e.desc,picUrl:e.picUrl,imgUrl:e.picUrl,shareUrl:e.shareUrl,channel:t};switch(t){case 0:y&&(n.content=e.content+" "+e.shareUrl);break;case 1:n.content=e.content+" "+e.shareUrl;break;case 3:case 4:case 5:case 6:break;case 7:y||(n.shareUrl=e.title+" "+e.shareUrl)}return n}e.title||(e.title=""),e.desc||(e.desc=""),e.content=e.desc,e.picUrl||(e.picUrl="https://base.95516.com/s/wl/webV3/402/images/common/logo.png"),e.imgUrl=e.picUrl,e.shareUrl||(e.shareUrl=location.href),e.shareList||(e.shareList=[{shareId:"0",shareType:"1",shareData:{}},{shareId:"1",shareType:"1",shareData:{}},{shareId:"3",shareType:"1",shareData:{}},{shareId:"4",shareType:"1",shareData:{}},{shareId:"5",shareType:"1",shareData:{}},{shareId:"6",shareType:"1",shareData:{}},{shareId:"7",shareType:"1",shareData:{}}]),window.unionpayWalletShareContent_iOS=function(n){var i=t(n);return"function"==typeof e.shareCallback&&(i=e.shareCallback(n,i)),JSON.stringify(i)},window.unionpayWalletShareContent_Android=function(n){var i=t(n);"function"==typeof e.shareCallback&&(i=e.shareCallback(n,i)),share_utils&&"function"==typeof share_utils.setCommonTemplate&&share_utils.setCommonTemplate(JSON.stringify(i))};var n={};n.shareList=e.shareList,v(null,null,"UPWebBars","prefetchImage",[e]),v(e.success,e.fail,"UPSharePlugin","showSharePopupNew",[n])},shareSinglePlugin:function(e){function t(t){e.shareUrl+=e.shareUrl.indexOf("?")<0?"?channel="+t:"&channel="+t;var n={title:e.title,content:e.desc,desc:e.desc,picUrl:e.picUrl,imgUrl:e.picUrl,shareUrl:e.shareUrl,channel:t};switch(t){case 0:y&&(n.content=e.content+" "+e.shareUrl);break;case 1:n.content=e.content+" "+e.shareUrl;break;case 3:case 4:case 5:case 6:break;case 7:y||(n.shareUrl=e.title+" "+e.shareUrl)}return n}e.title||(e.title=""),e.desc||(e.desc=""),e.content=e.desc,e.picUrl||(e.picUrl="https://base.95516.com/s/wl/webV3/402/images/common/logo.png"),e.imgUrl=e.picUrl,e.shareUrl||(e.shareUrl=location.href),e.shareId||$.extend(e,{shareId:"3",shareType:"1",shareData:{}}),window.unionpayWalletShareContent_iOS=function(n){var i=t(n);return"function"==typeof e.shareCallback&&(i=e.shareCallback(n,i)),JSON.stringify(i)},window.unionpayWalletShareContent_Android=function(n){var i=t(n);"function"==typeof e.shareCallback&&(i=e.shareCallback(n,i)),share_utils&&"function"==typeof share_utils.setCommonTemplate&&share_utils.setCommonTemplate(JSON.stringify(i))};var n={};n.shareId=e.shareId,n.shareType=e.shareType,n.shareData=e.shareData,v(null,null,"UPWebBars","prefetchImage",[e]),v(e.success,e.fail,"UPSharePlugin","shareContent",[n])},appletSharePopup:function(e){t(e,"UPSharePlugin","appletSharePopup")},setAppletShareInfo:function(e){t(e,"UPSharePlugin","setAppletShareInfo")},bioDetect:function(e){t(e,"UPFacePlugin","bioDetect")},addConsole:function(e){t(e,"UPWLogPlugin","addConsole")},recentlyUsedAppletList:function(e){t(e,"UPWAppletCapacityPlugin","recentlyUsedAppletList")},deleteRecentlyUsedApplet:function(e){t(e,"UPWAppletCapacityPlugin","deleteRecentlyUsedApplet")},collectApplet:function(e){t(e,"UPWAppletCapacityPlugin","collectApplet")},cancelCollectApplet:function(e){t(e,"UPWAppletCapacityPlugin","cancelCollectApplet")},getAppletCollectionList:function(e){t(e,"UPWAppletCapacityPlugin","getAppletCollectionList")},collectCurrentApplet:function(e){t(e,"UPWAppletCapacityPlugin","collectCurrentApplet")},getScreenParams:function(e){t(e,"UPScreenParamsPlugin","getScreenParams")},setSharedData:function(e){t(e,"UPWPluginLiteApp","setSharedData")},getSharedData:function(e){t(e,"UPWPluginLiteApp","getSharedData")},navigateTo:function(e){t(e,"UPWPluginLiteApp","navigateTo")},navigateBack:function(e){t(e,"UPWPluginLiteApp","navigateBack")},redirectTo:function(e){t(e,"UPWPluginLiteApp","redirectTo")},reLaunch:function(e){t(e,"UPWPluginLiteApp","reLaunch")},switchTab:function(e){t(e,"UPWPluginLiteApp","switchTab")},registerLifecycle:function(e){var i=["rerender","onAppLoad","onAppShow","onAppHide","onPageShow","onPageHide","onPageLoad","onPageBack"];for(var a in e)e.hasOwnProperty(a)&&i.indexOf(a)>-1&&n(e[a])&&U(a,e[a]);t(e,"UPWPluginLiteApp","ready")},vibrate:function(e){t(e,"UPWDeviceModule","vibrate")},idCardRecognition:function(e){t(e,"UPAIPlugin","idCardRecognition")}}),W.length&&(N=!0,l(W,function(e,t){n(t)&&t()}))}function h(e,t){t&&"string"==typeof t&&(t={msg:t});var i;if(window.cordova)switch(window.cordova.errorRetStatus){case window.cordova.callbackStatus.INVALID_ACTION:i=F.ESDK_PLUGIN_INVALID_ACTION;break;case window.cordova.callbackStatus.CLASS_NOT_FOUND_EXCEPTION:i=F.ESDK_PLUGIN_CLASS_NOT_FOUND;break;case window.cordova.callbackStatus.ILLEGAL_ACCESS_EXCEPTION:i=F.ESDK_PLUGIN_ILLEGAL_ACCESS}if(i&&(t=i),n(e))e(t);else if(t){var a=t.errmsg||t.msg||t.desc,o=t.errcode||t.code;o&&(a+=" ["+o+"]"),p(a)}window.cordova&&(window.cordova.errorRetStatus=window.cordova.callbackStatus.OK)}function p(e){O&&e&&(N&&c("showFlashInfo",window.upsdk.jsApiList)?v(null,null,"UPWebUI","showFlashInfo",[e]):alert(e))}function g(e,t,n){for(var i,a=0;a<n.length;++a)if(!t[n[a]]){i=n[a];break}if(i){var o=e+"调用方法缺少参数"+i;return o}return""}function f(e){n(m)&&("string"==typeof e&&(e={msg:e}),m(e))}function P(){window.upConsoleShow=!0;var e=document.createElement("script");e.type="text/javascript",e.src=L,document.getElementsByTagName("head")[0].appendChild(e)}function C(e){return e?e.resultString?e.resultString:e.resultParams?e.resultParams:void 0:e}function v(e,t,i,a,o){G&&window.cordova?window.cordova.exec(e,t,i,a,o):X&&window.WebViewJavascriptBridge&&window.WebViewJavascriptBridge.callHandler(i,a,o,function(t){n(e)&&e(C(t))},function(e){n(t)&&t(C(e))})}function U(e,t){y&&window.WebViewJavascriptBridge&&window.WebViewJavascriptBridge.registerHandler?window.WebViewJavascriptBridge.registerHandler(e,t):(document.removeEventListener(e,ue[e]),ue[e]=t,document.addEventListener(e,ue[e]))}var S,B,b,m,E,L,A=navigator.userAgent.toLowerCase(),w=new RegExp(/(com.unionpay.chsp)/).test(A)||new RegExp(/(com.unionpay.mobilepay)/).test(A),y=new RegExp(/iphone|ipad|ipod/).test(A),W=[],D=!1,N=!1,I=!1,k=[],_={},O=!1,T=/\(version\s(\d+)\)/g.exec(A),R=i(T)&&T.length>=2&&T[1],F={ESDK_BAD_PARAMS:{errcode:"c00",errmsg:"参数错误"},ESDK_CONFIG_FAILED:{errcode:"c01",errmsg:"签名未通过, 不能访问插件"},ESDK_PLUGIN_ILLEGAL_ACCESS:{errcode:"c02",errmsg:"ILLEGAL_ACCESS_EXCEPTION: 无权限访问此插件！"},ESDK_PLUGIN_INVALID_ACTION:{errcode:"c03",errmsg:"INVALID_ACTION_EXCEPTION: 插件里面没有此方法！"},ESDK_PLUGIN_CLASS_NOT_FOUND:{errcode:"c04",errmsg:"CLASS_NOT_FOUND_EXCEPTION: 此插件没有实现！"},ESDK_NEED_CONFIG_DONE:{errcode:"c05",errmsg:"config执行成功以后才能调用插件方法"},ESDK_NOT_IN_WALLET:{errcode:"c101",errmsg:"upsdk.js必须被云闪付加载"},ESDK_NEED_NEW_VERSION:{errcode:"c102",errmsg:"您手机上云闪付版本太低,请安装新版本!"}};window.upsdk=window.upsdk||{},window.upsdk.isInsideWallet=w,window.upsdk.checkSdkSupport=function(){return!!R&&(y?R>="422":R>="422")}();var V=["pay","addBankCard","setNavigationBarTitle","setNavigationBarRightButton","closeWebApp","showFlashInfo","scanQRCode","chooseImage","getLocationCity","getLocationGps","verifyPayPwd","showSharePopup","chooseFileFromAlbum","readAlbumData","startAudioRecording","stopAudioRecording","readAudioRecordingData","startVideoRecording","readVideoRecordingData","readFaceVideoData","readFaceImageData","noteInfoChange","openRNPage","navi","setScreenBrightness","getScreenBrightness","changeScreenShot","monitorScreenShot","removeScreenShot","addCommonApp","logEvent","openBluetoothAdapter","closeBluetoothAdapter","getBluetoothAdapterState","startBluetoothDevicesDiscovery","stopBluetoothDevicesDiscovery","getBluetoothDevices","getConnectedBluetoothDevices","connectBLEDevice","disconnectBLEDevice","writeBLECharacteristicValue","readBLECharacteristicValue","notifyBLECharacteristicValueChange","getBLEDeviceServices","getBLEDeviceCharacteristics","registerBluetoothDeviceFound","cancelBluetoothDeviceFound","registerBLEConnectionStateChange","cancelBLEConnectionStateChange","registerBLECharacteristicValueChange","cancelBLECharacteristicValueChange","registerBluetoothAdapterStateChange","cancelBluetoothAdapterStateChange","openBluetoothSetting","getHCEState","startHCE","stopHCE","sendHCEMessage","onHCEMessage","openNFCSetting","scanQRCodeNew","qrCodePay","setTitleStyle","prepareApplet","openApplet","createWebView","saveData","queryData","deleteData","getAllKeys","deleteAllKeys","addBankCardWithSn","showShareMorePanel","shareSinglePlugin","addConsole","recentlyUsedAppletList","deleteRecentlyUsedApplet","collectApplet","cancelCollectApplet","getAppletCollectionList","getScreenParams","qrPay","uPlanQrPay","collectCurrentApplet","setSharedData","getSharedData","navigateTo","navigateBack","redirectTo","reLaunch","switchTab","registerLifecycle","getUserLogoutDate","appletSharePopup","setAppletShareInfo","bioDetect","getBluetoothStatus","registerBLEPeripheralConnectionStateChangedNotification","cancelBLEPeripheralConnectionStateChangedNotification","createBLEPeripheralServer","closeBLEPeripheralServer","addService","removeService","startAdvertising","stopAdvertising","writeCharacteristicValue","registerCharacteristicReadNotification","cancelCharacteristicReadNotification","registerCharacteristicWriteNotification","cancelCharacteristicWriteNotification","registerCharacteristicSubscribedNotification","cancelCharacteristicSubscribedNotification","registerCharacteristicUnsubscribedNotification","cancelCharacteristicUnsubscribedNotification","uniqueIdentifier","getNFCStatus","configApplePay","openBluetooth","vibrate"];if(window.upsdk=window.upsdk||{},l(V,function(t,n){window.upsdk[n]=e}),w){var H=document.createElement("script"),j=y?"ios":"android",x=/\(updebug\s(\d+)\)/g.exec(A)[1],K=/\(cordova\s([\d\.]+)\)/g.exec(A),M=K&&K.length>1&&K[1],G=K&&M,J=/\(securitywebcache\s([\d\.]+)\)/g.exec(A),q=J&&J.length>1&&J[1],X=J&&q,Q=function(){return{0:"https://open.95516.com/s/open/",2:"http://172.18.179.10/s/open/"}[x]}();L=Q+"common/upconsole.min.js";var z;if(G)z=Q+"common/cordova/"+j+"."+M+"/cordova.js";else{if(!X)return;z=Q+"common/jsbridge/"+j+"."+q+"/WebViewJavascriptBridge.js"}H.setAttribute("type","text/javascript"),H.setAttribute("src",z),document.getElementsByTagName("head")[0].appendChild(H),G?document.addEventListener("deviceready",d):X&&(H.onload=d)}else{D=!0;var Y=document.currentScript&&document.currentScript.src||"";u(window.upsdk,{addBankCardWithSn:function(e){e=e||{},e.Sn=e.Sn||e.sn||e.SN;var t="https://open.95516.com/s/open/";if(Y){var n=Y.indexOf("/open/js/upsdk.js");n>-1?t=Y.substring(0,n)+"/open/":(n=Y.indexOf("/app/js/upsdk.js"),n>-1&&(t=Y.substring(0,n)+"/"))}var i=t+"outBindCard/html/bindCard.html?bankSn="+e.Sn;e.upEnv&&(i+="&upEnv="+e.upEnv),window.location.href=i}})}window.upsdk.jsApiList=[];var Z=null,ee=null,te=null,ne=null,ie=null,ae=null,oe=null,re=null,ce=null,le=null,se=null,ue={};u(window.upsdk,{config:function(e){function t(e){var t={};return i(e)&&l(e,function(e,n){r(n)&&(t[n.plugin]=n.actions)}),t}if(!w)return N=!0,I=!1,void(k.length&&l(k,function(e,t){n(t)&&t()}));if(!r(e))return void h(null,F.ESDK_BAD_PARAMS);e.debug&&(O=!0,P(),delete e.debug);var a=g("config",e,["appId","nonceStr","timestamp","signature"]);if(!a&&e.url){var o=window.location.href.split("#")[0];e.url!==o&&(a="签名因子url取值不正确, 正确的应该是"+o)}return a?(h(null,a),void f(a)):(a="",w||(a=F.ESDK_NOT_IN_WALLET),a?void f(a):void(D?v(function(e){N=!0,I=!1,"string"==typeof e&&(e=JSON.parse(e)),e.params&&(e=e.params),_=e&&e.jsApiList&&t(e.jsApiList)||{};var a=[];l(_,function(e,t){i(t)&&(a=a.concat(t))});var o=c("fetchNativeData",a);o>=0&&a.splice(o,1,"getLocationCity","getLocationGps"),window.upsdk.jsApiList=a,O&&window.uplog&&window.uplog("you can use plugins:"+window.upsdk.jsApiList),k.length&&l(k,function(e,t){n(t)&&t()}),p("config ok")},function(e){I=!0,N=!1,E=e,n(m)&&m(e),p("config error: "+e)},"UPWebSdk","config",[e]):S=e))},ready:function(e){n(e)&&(N?e():k.push(e))},error:function(t){t=n(t)&&t||e,I?t(E):m=t},appletConfig:function(e){if(D){var t=null,i=null;n(e.success)&&(t=e.success,delete e.success),n(e.fail)&&(i=e.fail,delete e.fail),v(function(e){N=!0,t(e)},function(e){h(i,e)},"UPWebSdk","appletConfig",[e])}else B=e},appletAuth:function(e){if(D){var t=null,i=null;n(e.success)&&(t=e.success,delete e.success),n(e.fail)&&(i=e.fail,delete e.fail),v(t,function(e){h(i,e)},"UPWebSdk","appletAuth",[e])}else b=e},pluginReady:function(e){n(e)&&(D?(N=!0,e()):W.push(e))}}),"undefined"!=typeof define&&define(function(){return window.upsdk}),window.backBtnClick_iOS=e}();